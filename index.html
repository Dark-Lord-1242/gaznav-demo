<!DOCTYPE html>
<html lang="uz">
<head>
  <meta charset="UTF-8" />
  <title>GazNav</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="style.css" />
  <script src="https://api-maps.yandex.ru/2.1/?apikey=b0288c55-f3df-4e3f-b9c7-b5de58c0d2e7&lang=ru_RU" type="text/javascript"></script>
</head>
<body class="theme-dark">
  <!-- TOAST BILDIRISHNOMALAR -->
  <div id="toastContainer" class="toast-container"></div>

  <!-- ZAPRAVKA DETAIL MODAL -->
  <div class="modal" id="stationModal">
    <div class="modal__backdrop" id="modalBackdrop"></div>
    <div class="modal__content">
      <button class="modal__close" id="modalClose">âœ•</button>
      <div id="modalBody"></div>
    </div>
  </div>

  <!-- NAVBAR -->
  <header class="navbar">
    <div class="brand">
      <div class="brand-logo">
        <span>â›½</span>
      </div>
      <div>
        <div class="brand-text-main">
          Gaz<span>Nav</span>
        </div>
        <div class="brand-sub" data-i18n="subtitle">Taxi style navigator</div>
      </div>
    </div>

    <!-- Qidiruv -->
    <div class="top-search">
      <span class="top-search__icon">ğŸ”</span>
      <input
        type="text"
        id="searchInput"
        class="top-search__input"
        data-i18n-placeholder="searchPlaceholder"
        placeholder="Zapravka yoki manzil qidiring"
      />
    </div>

    <div class="top-right region-selector-wrap">
      <!-- Viloyat va Tuman tanlash -->
      <div class="region-dropdown" id="regionDropdown">
        <button class="city-selector city-selector--strong" id="regionButton" type="button">
          <div class="city-pin"><span>ğŸ“</span></div>
          <div>
            <div class="city-label" data-i18n="regionLabel">Viloyat</div>
            <div class="city-value" id="regionValue">Toshkent viloyati</div>
          </div>
          <div class="city-arrow">â–¾</div>
        </button>
        <div class="region-dropdown__panel" id="regionPanel">
          <div class="region-dropdown__section">
            <label data-i18n="adminRegion">Viloyat</label>
            <select id="regionSelect" class="admin__select"></select>
          </div>
          <div class="region-dropdown__section">
            <label data-i18n="adminDistrict">Tuman</label>
            <select id="districtSelect" class="admin__select"></select>
          </div>
        </div>
      </div>

      <!-- Til -->
      <button class="icon-btn icon-btn--small" id="langToggle" type="button">
        <span id="langLabel">UZ</span>
      </button>

      <!-- Mavzu (kunduz/tun) -->
      <button class="icon-btn icon-btn--accent icon-btn--small" id="themeToggle" type="button">
        <span id="themeIcon">â˜€</span>
      </button>

      <!-- Bildirishnomalar -->
      <button class="icon-btn icon-btn--small" id="notifyBtn" type="button">
        <span>ğŸ””</span>
      </button>

      <!-- Kabinet tugmasi -->
      <button class="icon-btn icon-btn--profile icon-btn--small" id="cabinetToggle" type="button">
        <span>ğŸ‘¤</span>
      </button>
    </div>
  </header>

  <!-- MAIN CONTENT -->
  <main class="page">
    <section class="headline-section">
      <h1 class="headline-title" data-i18n="headline">Qayerga boramiz?</h1>
      <p class="headline-sub" data-i18n="headlineSub">Eng yaqin zapravkalar ro'yxati</p>

      <div id="mapContainer" class="map-container">
        <div id="mainMap"></div>
      </div>

      <div class="stations-row" id="topCards">
        <!-- JS orqali yuqoridagi kartalar generatsiya qilinadi -->
      </div>
    </section>
  </main>

  <!-- YANDEX STYLE DRAGGABLE BOTTOM SHEET -->
  <section class="order-panel" id="orderPanel">
    <div class="order-panel__drag" id="panelDrag"></div>

    <header class="order-panel__header">
      <div>
        <div class="order-panel__title" data-i18n="panelTitle">Zapravkani tanlang</div>
        <div class="order-panel__subtitle" id="userLocationLabel">
          Joylashuv aniqlanmoqda...
        </div>
      </div>
      <div class="order-panel__header-actions">
        <button class="order-panel__hide-btn" id="panelHide" type="button">âœ•</button>
        <button class="order-panel__collapse-btn" id="panelToggle" type="button">â–¾</button>
      </div>
    </header>

    <!-- FILTR PANELI (Drizo uslubida) - pastki panelda -->
    <div class="panel-filters" id="panelFilters">
      <div class="panel-filters__scroll">
        <button class="panel-filter-chip panel-filter-chip--all panel-filter-chip--active" id="filterAll" type="button">
          <span class="pfc-icon">âš¡</span>
          <span class="pfc-label" data-i18n="filterAll">Barchasi</span>
        </button>
        <button class="panel-filter-chip" data-filter-fuel="Metan" type="button">
          <span class="pfc-icon">ğŸ”µ</span>
          <span class="pfc-label">Metan</span>
        </button>
        <button class="panel-filter-chip" data-filter-fuel="Benzin" type="button">
          <span class="pfc-icon">ğŸ”´</span>
          <span class="pfc-label">Benzin</span>
        </button>
        <button class="panel-filter-chip" data-filter-fuel="Dizel" type="button">
          <span class="pfc-icon">ğŸŸ¡</span>
          <span class="pfc-label">Dizel</span>
        </button>
        <div class="pfc-divider"></div>
        <button class="panel-filter-chip" data-filter-tag="24/7" type="button">
          <span class="pfc-icon">ğŸ•</span>
          <span class="pfc-label">24/7</span>
        </button>
        <button class="panel-filter-chip" data-filter-tag="WC" type="button">
          <span class="pfc-icon">ğŸš»</span>
          <span class="pfc-label">WC</span>
        </button>
        <button class="panel-filter-chip" data-filter-tag="Kafe" type="button">
          <span class="pfc-icon">â˜•</span>
          <span class="pfc-label">Kafe</span>
        </button>
        <button class="panel-filter-chip panel-filter-chip--open" data-filter-status="open" type="button">
          <span class="pfc-icon">âœ…</span>
          <span class="pfc-label" data-i18n="statusOpen">Ochiq</span>
        </button>
      </div>
    </div>

    <div class="order-panel__badge-row">
      <span class="badge badge--accent" id="nearestLabel" data-i18n="nearestFinding">
        Eng yaqin zapravka topilmoqdaâ€¦
      </span>
      <span class="badge" data-i18n="badgeHint">Filtr va qidiruv orqali tanlang</span>
    </div>

    <div class="order-panel__list" id="stationList">
      <!-- JS orqali zapravkalar shu yerga tushadi -->
    </div>
  </section>

  <!-- KABINET (o'ngdan chiqadigan panel) -->
  <aside class="cabinet" id="cabinetPanel">
    <div class="cabinet__backdrop" id="cabinetBackdrop"></div>
    <div class="cabinet__content">
      <header class="cabinet__header">
        <div>
          <div class="cabinet__title" data-i18n="cabinetTitle">Kabinet</div>
          <div class="cabinet__subtitle" data-i18n="cabinetSub">
            Profil, filtrlar, sevimlilar va admin panel
          </div>
        </div>
        <button class="cabinet__close" id="cabinetClose" type="button">âœ•</button>
      </header>

      <!-- Avtomobil qo'shish -->
      <section class="cabinet__section">
        <button class="cabinet__add-car" id="addCarBtn" type="button">
          <span>ğŸš—</span>
          <span data-i18n="addCar">Avtomobil qo'shish</span>
        </button>
        <div id="carsList" class="cabinet__cars-list"></div>
      </section>

      <!-- Filtrlar -->
      <section class="cabinet__section">
        <div class="cabinet__section-header">
          <div class="cabinet__section-title" data-i18n="filtersTitle">Tez filtrlar</div>
          <button class="cabinet__toggle-filters" id="toggleFilters" type="button">
            <span id="filtersToggleIcon">â–¼</span>
          </button>
        </div>
        <div class="cabinet__chips" id="filtersContainer">
          <button class="chip" data-filter-fuel="Metan">Metan</button>
          <button class="chip" data-filter-fuel="Benzin">Benzin</button>
          <button class="chip" data-filter-fuel="Dizel">Dizel</button>
          <button class="chip" data-filter-tag="24/7">24/7</button>
          <button class="chip" data-filter-tag="WC">WC</button>
          <button class="chip" data-filter-tag="Kafe">Kafe</button>
        </div>
      </section>

      <!-- Sevimlilar -->
      <section class="cabinet__section">
        <div class="cabinet__section-title" data-i18n="favTitle">Sevimli zapravkalar</div>
        <div id="favoritesContainer" class="cabinet__card cabinet__card--empty">
          Hozircha sevimli zapravka yo'q.
        </div>
      </section>

      <!-- Admin panelga kirish -->
      <section class="cabinet__section">
        <a href="admin.html" class="cabinet__admin-link">
          <span>âš™ï¸</span>
          <span data-i18n="adminPanel">Admin panel</span>
          <span>â†’</span>
        </a>
      </section>
    </div>
  </aside>

  <script src="app.js"></script>
</body>
</html>